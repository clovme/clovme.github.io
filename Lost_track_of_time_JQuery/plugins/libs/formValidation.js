!function($,window,document,undefined){var _form=function(t,e){this.form=t,this.csrf=null,this.defaults={},this.options=$.extend({},this.defaults,e),this.methods={GET:"GET",POST:"POST",HEAD:"HEAD",PUT:"PUT",DELETE:"DELETE",CONNECT:"CONNECT",OPTIONS:"OPTIONS",TRACE:"TRACE"}};_form.prototype={init:function(){var t=this,e=t.options.submitBtn;return t.for_form(),t.initParams(),t.enterSend(),t.getCsrfTooken(),t.data={required:t.func.required,min:t.func.minOrMax,max:t.func.minOrMax,length:t.func.lengths,rules:t.func.rules,equal:t.func.equal,phone:t.func.mobile,email:t.func.email,idcard:t.func.IdCard,password:t.func.password,url:t.func.url},e&&$(e).on("click",function(){t.clickValidation()}),this},enterSend:function(){var r=this;$("#"+r.form[0].id).off("keydown.t").on("keydown.t",function(t){var e=t||window.event;e.ctrlKey&&13===e.keyCode?r.clickValidation():13===e.keyCode&&r.clickValidation()})},attrLength:function(t){var e=t.attr("data-length");if(e){var r=e.split("-");if(1===r.length&&(t.attr("minlength",r[0]),t.attr("maxlength",r[0])),2===r.length){var n=r[r.length-1];"*"===n?t.attr("minlength",r[0]):(t.attr("minlength",r[0]),t.attr("maxlength",n))}}},events:function(r,n){var a=!0;if("radio"!==n.attr("type")&&"checkbox"!==n.attr("type"))$.each(n[0].dataset,function(t,e){"ruleMessage"!==t&&(r.data[t](n)||(r.errFunc[t](n,r),a=r.data[t](n)),a&&r.msg.success(n))});else{if("checkbox"===n.attr("type")){var t=n.is(":checked");t||(r.errFunc.required(n,r),a=t),a&&r.msg.success(n)}"radio"===n.attr("type")&&console.log(n)}},for_form:function(){var r=this;$.each(r.form[0],function(t,e){""!==$(e)[0].name&&(r.attrLength($(e)),$(e).on("input propertychange",function(){r.events(r,$(e))}),$(e).on("blur",function(){r.events(r,$(e))}))})},randomNum:function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},initParams:function(){var t=this,e=t.options.sends===undefined||t.options.sends,r=t.methods[(t.options.method?t.options.method:"POST").trim().toUpperCase()];t.url=t.options.url?t.options.url:t.form[0].action,t.method=r!==undefined?r:"POST",t.async=!0!==t.options.async&&!1!==t.options.async||t.options.async,t.sends=!0!==e&&!1!==e||e,""!==t.form[0].id&&t.form[0].id!==undefined||(t.form[0].id=t.formId())},formId:function(){for(var t="";;){var e="form-"+this.randomNum(4e3,5e3),r=[];if($.each($("form"),function(t,e){r.push(e.id)}),-1===$.inArray(e,r)){t=e;break}}return t}},_form.prototype.errFunc={required:function(t,e){e.msg.error(t,t.attr("data-required"))},min:function(t,e){e.msg.error(t,"最小值为:"+t.attr("data-min"))},max:function(t,e){e.msg.error(t,"最大值为:"+t.attr("data-max"))},length:function(t,e){var r=t.attr("data-length").split("-");if(1===r.length&&e.msg.error(t,"最多最少输入"+r[0]+"位"),2===r.length)if("*"===r[r.length-1])e.msg.error(t,"最少输入"+r[0]+"位");else{var n=t.attr("data-length");e.msg.error(t,"输入字符长度["+n+"]位")}},rules:function(t,e){e.msg.error(t,t.attr("data-rule-message"))},equal:function(t,e){e.msg.error(t,"输入不一致！")},phone:function(t,e){e.msg.error(t,t.attr("data-phone"))},email:function(t,e){e.msg.error(t,t.attr("data-email"))},idcard:function(t,e){e.msg.error(t,t.attr("data-idcard"))},url:function(t,e){e.msg.error(t,t.attr("data-url"))},password:function(t,e){e.msg.error(t,t.attr("data-password"))}},_form.prototype.clickValidation=function(){var n=this,a=!0;$.each(n.form[0],function(t,r){if(""!==$(r)[0].name)if("radio"!==$(r).attr("type")&&"checkbox"!==$(r).attr("type"))$.each($(r)[0].dataset,function(t,e){"ruleMessage"===t||n.data[t]($(r),n)||(n.errFunc[t]($(r),n),a=n.data[t]($(r)))});else{if("checkbox"===$(r).attr("type")){var e=$(r).is(":checked");e||(n.errFunc.required($(r),n),a=e)}"radio"===$(r).attr("type")&&console.log(r)}}),a&&n.sends&&n.sendData()},_form.prototype.func={required:function(t){var e=t.val();return""!==e&&null!=e},minOrMax:function(t){var e=t.val(),r=parseInt(t.attr("data-min")),n=parseInt(t.attr("data-max"));if(e=parseInt(e)){if(isNaN(e)||e<r)return!1;if(!isNaN(e)&&n<e)return!1}return!0},lengths:function(t){var e=t.val(),r=t.attr("data-length").split("-");if(""!==e&&1===r.length){var n=parseInt(r);if(e.length!==n)return!1}else if(""!==e&&2===r.length)if("*"===r[1]){var a=parseInt(r[0]);if(e.length<a)return!1}else{var o=parseInt(r[0]),i=parseInt(r[1]);if(e.length<o||e.length>i)return!1}return!0},rules:function(objects){var value=objects.val(),rule=objects.attr("data-rules");return rule=new RegExp(eval(rule)),!(""!==value&&!rule.test(value))},equal:function(t){return t.val()===$(t.attr("data-equal")).val()},mobile:function(t){var e=t.val();return!(""!==e&&!/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(e)&&!/^(0\d{2,3}\d{7,8}|0\d{2,3}-)\d{7,8}$/.test(e))},email:function(t){var e=t.val();return!(""!==e&&!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e))},password:function(t){var e=t.val();return!(""!==e&&!/^[a-zA-Z0-9\.\_\~\!\@\#\$\%\^\&\*\(\)\+\-\=]{6,16}$/.test(e))},IdCard:function(t){var e=t.val();return!(""!==e&&!/^([1-9]\d{5}[1]\d{3}(0[1-9]|1[0-2])(0[1-9]|[1-2]\d|3[0-1])\d{3}[0-9xX]|[1-9]\d{5}\d{2}(0[1-9]|1[0-2])(0[1-9]|[1-2]\d|3[0-1])\d{3})$/.test(e))},url:function(t){var e=t.val();return!(""!==e&&!/^https?:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/.test(e))}},_form.prototype.getCsrfTooken=function(){if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var r=t[e].trim().split("=");"csrftoken"===r[0]&&(this.csrf=r[1]);break}},_form.prototype.formData=function(){var t=this,r={},e=t.form[0];return $(e).find('input[type="file"]').length<=0?($.each($(t.form[0]).serializeArray(),function(t,e){r[e.name]=e.value}),!t.csrf&&r.csrfmiddlewaretoken&&(t.csrf=r.csrfmiddlewaretoken),delete r.csrfmiddlewaretoken,$.each(t.options.data,function(t,e){r[t]=e}),r=JSON.stringify(r)):(r=new FormData(e),!t.csrf&&r.has("csrfmiddlewaretoken")&&(t.csrf=r.get("csrfmiddlewaretoken")),r.delete("csrfmiddlewaretoken"),$.each(t.options.data,function(t,e){r.append(t,e)})),r},_form.prototype.sendData=function(){var e=this,t=e.formData(),r=new XMLHttpRequest;r.open(e.method,e.url,e.async),r.setRequestHeader("X-CSRFToken",e.csrf),r.setRequestHeader("x-requested-with","XMLHttpRequest"),$(e.form[0]).find('input[type="file"]').length<=0&&r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){if(e.options.success)try{e.options.success($.parseJSON(r.responseText))}catch(t){e.options.success(r.responseText)}}else if(e.options.error)try{e.options.success($.parseJSON(r.responseText))}catch(t){e.options.success(r.responseText)}},r.send(t)},_form.prototype.msg={error:function(t,e){if("checkbox"!==$(t).attr("type")&&"radio"!==$(t).attr("type")){var r=$(t.siblings()[0]);r.attr({"data-trigger":"manual","data-placement":"left","data-original-title":e}).tooltip("show"),r.children(".input-group-text").css({"border-color":"#EF5350",color:"#EF5350"}),t.attr("check",!1).css({"border-color":"#EF5350","background-color":"#FFCDD2"})}else"checkbox"===$(t).attr("type")&&t.attr({check:!1,"data-trigger":"manual","data-placement":"left","data-original-title":e}).tooltip("show")},success:function(t){if("checkbox"!==$(t).attr("type")&&"radio"!==$(t).attr("type")){var e=$(t.siblings()[0]);e.removeAttr("data-trigger"),e.removeAttr("data-placement"),e.removeAttr("data-original-title"),e.children(".input-group-text").removeAttr("style"),e.tooltip("hide"),e.find(".fa").css("color","#28a745"),t.attr("check",!0).css({"border-color":"#28a745","background-color":"#FFF"})}else"checkbox"===$(t).attr("type")&&(t.attr("check",!0),t.removeAttr("data-trigger"),t.removeAttr("data-placement"),t.removeAttr("data-original-title"),t.tooltip("hide"))}},$.fn.form=function(t){return new _form(this,t).init()}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvbGlicy9mb3JtVmFsaWRhdGlvbi5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJfZm9ybSIsImVsZSIsIm9wdCIsInRoaXMiLCJmb3JtIiwiY3NyZiIsImRlZmF1bHRzIiwib3B0aW9ucyIsImV4dGVuZCIsIm1ldGhvZHMiLCJHRVQiLCJQT1NUIiwiSEVBRCIsIlBVVCIsIkRFTEVURSIsIkNPTk5FQ1QiLCJPUFRJT05TIiwiVFJBQ0UiLCJwcm90b3R5cGUiLCJpbml0IiwibWUiLCJzQnRuIiwic3VibWl0QnRuIiwiZm9yX2Zvcm0iLCJpbml0UGFyYW1zIiwiZW50ZXJTZW5kIiwiZ2V0Q3NyZlRvb2tlbiIsImRhdGEiLCJyZXF1aXJlZCIsImZ1bmMiLCJtaW4iLCJtaW5Pck1heCIsIm1heCIsImxlbmd0aCIsImxlbmd0aHMiLCJydWxlcyIsImVxdWFsIiwicGhvbmUiLCJtb2JpbGUiLCJlbWFpbCIsImlkY2FyZCIsIklkQ2FyZCIsInBhc3N3b3JkIiwidXJsIiwib24iLCJjbGlja1ZhbGlkYXRpb24iLCJpZCIsIm9mZiIsImV2IiwiZSIsImV2ZW50IiwiY3RybEtleSIsImtleUNvZGUiLCJhdHRyTGVuZ3RoIiwib2JqIiwiZGF0YUF0dHJMZW5ndGgiLCJhdHRyIiwic3BsaXQiLCJldmVudHMiLCJ2X29iaiIsImlzX3N1Y2Nlc3MiLCJlYWNoIiwiZGF0YXNldCIsImlpIiwidnYiLCJlcnJGdW5jIiwibXNnIiwic3VjY2VzcyIsImNoZWNrZWQiLCJpcyIsImNvbnNvbGUiLCJsb2ciLCJpIiwidiIsIm5hbWUiLCJyYW5kb21OdW0iLCJtaW5OdW0iLCJtYXhOdW0iLCJhcmd1bWVudHMiLCJwYXJzZUludCIsIk1hdGgiLCJyYW5kb20iLCJzZW5kIiwic2VuZHMiLCJtZXRob2QiLCJ0cmltIiwidG9VcHBlckNhc2UiLCJhY3Rpb24iLCJhc3luYyIsImZvcm1JZCIsInRlbXAiLCJmb3Jtc0lkIiwicHVzaCIsImluQXJyYXkiLCJ0YXJnZXQiLCJlcnJvciIsImNoYW5nZHUiLCJzZW5kRGF0YSIsIm9iamVjdHMiLCJ2YWx1ZSIsInZhbCIsImlzTmFOIiwic3RhcnRfZW5kIiwibnVtIiwibWluX2xlbmd0aCIsInJ1bGUiLCJSZWdFeHAiLCJldmFsIiwidGVzdCIsImNvb2tpZSIsImNvb2tpZXMiLCJmb3JtRGF0YSIsImZpbmQiLCJzZXJpYWxpemVBcnJheSIsImNzcmZtaWRkbGV3YXJldG9rZW4iLCJrIiwiSlNPTiIsInN0cmluZ2lmeSIsIkZvcm1EYXRhIiwiaGFzIiwiZ2V0IiwiZGVsZXRlIiwiYXBwZW5kIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJwYXJzZUpTT04iLCJyZXNwb25zZVRleHQiLCJlcnJvck1lc3NhZ2UiLCJ0YXIiLCJzaWJsaW5ncyIsImRhdGEtdHJpZ2dlciIsImRhdGEtcGxhY2VtZW50IiwiZGF0YS1vcmlnaW5hbC10aXRsZSIsInRvb2x0aXAiLCJjaGlsZHJlbiIsImNzcyIsImJvcmRlci1jb2xvciIsImNvbG9yIiwiYmFja2dyb3VuZC1jb2xvciIsImNoZWNrIiwicmVtb3ZlQXR0ciIsImZuIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQyxTQUFXQSxFQUFHQyxPQUFRQyxTQUFVQyxXQUM3QixJQUFJQyxNQUFRLFNBQVVDLEVBQUtDLEdBQ3ZCQyxLQUFLQyxLQUFPSCxFQUNaRSxLQUFLRSxLQUFPLEtBQ1pGLEtBQUtHLFNBQVcsR0FDaEJILEtBQUtJLFFBQVVYLEVBQUVZLE9BQU8sR0FBSUwsS0FBS0csU0FBVUosR0FDM0NDLEtBQUtNLFFBQVUsQ0FDWEMsSUFBSyxNQUNMQyxLQUFNLE9BQ05DLEtBQU0sT0FDTkMsSUFBSyxNQUNMQyxPQUFRLFNBQ1JDLFFBQVMsVUFDVEMsUUFBUyxVQUNUQyxNQUFPLFVBSWZqQixNQUFNa0IsVUFBWSxDQUNkQyxLQUFNLFdB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bUJBQW9CLGFBR08sYUFBM0JuSixFQUFFa0csR0FBUXRDLEtBQUssVUFDZnNDLEVBQU90QyxLQUFLLFNBQVMsR0FDckJzQyxFQUFPbUQsV0FBVyxnQkFDbEJuRCxFQUFPbUQsV0FBVyxrQkFDbEJuRCxFQUFPbUQsV0FBVyx1QkFDbEJuRCxFQUFPNEMsUUFBUSxXQU0vQjlJLEVBQUVzSixHQUFHOUksS0FBTyxTQUFVRyxHQUdsQixPQUZpQixJQUFJUCxNQUFNRyxLQUFNSSxHQUVmWSxRQTFnQnpCLENBNGdCRWdJLE9BQVF0SixPQUFRQyIsImZpbGUiOiJwbHVnaW5zL2xpYnMvZm9ybVZhbGlkYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuICAgIHZhciBfZm9ybSA9IGZ1bmN0aW9uIChlbGUsIG9wdCkge1xyXG4gICAgICAgIHRoaXMuZm9ybSA9IGVsZTtcclxuICAgICAgICB0aGlzLmNzcmYgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0cywgb3B0KTtcclxuICAgICAgICB0aGlzLm1ldGhvZHMgPSB7XHJcbiAgICAgICAgICAgIEdFVDogJ0dFVCcsXHJcbiAgICAgICAgICAgIFBPU1Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgSEVBRDogJ0hFQUQnLFxyXG4gICAgICAgICAgICBQVVQ6ICdQVVQnLFxyXG4gICAgICAgICAgICBERUxFVEU6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBDT05ORUNUOiAnQ09OTkVDVCcsXHJcbiAgICAgICAgICAgIE9QVElPTlM6ICdPUFRJT05TJyxcclxuICAgICAgICAgICAgVFJBQ0U6ICdUUkFDRSdcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc0J0biA9IG1lLm9wdGlvbnMuc3VibWl0QnRuO1xyXG5cclxuICAgICAgICAgICAgbWUuZm9yX2Zvcm0oKTtcclxuICAgICAgICAgICAgbWUuaW5pdFBhcmFtcygpO1xyXG4gICAgICAgICAgICBtZS5lbnRlclNlbmQoKTtcclxuICAgICAgICAgICAgbWUuZ2V0Q3NyZlRvb2tlbigpO1xyXG5cclxuICAgICAgICAgICAgbWUuZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBtZS5mdW5jLnJlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgbWluOiBtZS5mdW5jLm1pbk9yTWF4LFxyXG4gICAgICAgICAgICAgICAgbWF4OiBtZS5mdW5jLm1pbk9yTWF4LFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBtZS5mdW5jLmxlbmd0aHMsXHJcbiAgICAgICAgICAgICAgICBydWxlczogbWUuZnVuYy5ydWxlcyxcclxuICAgICAgICAgICAgICAgIGVxdWFsOiBtZS5mdW5jLmVxdWFsLFxyXG4gICAgICAgICAgICAgICAgcGhvbmU6IG1lLmZ1bmMubW9iaWxlLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IG1lLmZ1bmMuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBpZGNhcmQ6IG1lLmZ1bmMuSWRDYXJkLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG1lLmZ1bmMucGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICB1cmw6IG1lLmZ1bmMudXJsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoc0J0bikge1xyXG4gICAgICAgICAgICAgICAgJChzQnRuKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWUuY2xpY2tWYWxpZGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZW50ZXJTZW5kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICQoJyMnICsgbWUuZm9ybVswXS5pZCkub2ZmKFwia2V5ZG93bi50XCIpLm9uKFwia2V5ZG93bi50XCIsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBldiB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZS5jbGlja1ZhbGlkYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lLmNsaWNrVmFsaWRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhdHRyTGVuZ3RoOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhQXR0ckxlbmd0aCA9IG9iai5hdHRyKCdkYXRhLWxlbmd0aCcpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YUF0dHJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZGF0YUF0dHJMZW5ndGguc3BsaXQoJy0nKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5hdHRyKCdtaW5sZW5ndGgnLCBkYXRhWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouYXR0cignbWF4bGVuZ3RoJywgZGF0YVswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXggPT09ICcqJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouYXR0cignbWlubGVuZ3RoJywgZGF0YVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmF0dHIoJ21pbmxlbmd0aCcsIGRhdGFbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouYXR0cignbWF4bGVuZ3RoJywgbWF4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBldmVudHM6IGZ1bmN0aW9uIChtZSwgdl9vYmopIHtcclxuICAgICAgICAgICAgdmFyIGlzX3N1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodl9vYmouYXR0cigndHlwZScpICE9PSAncmFkaW8nICYmIHZfb2JqLmF0dHIoJ3R5cGUnKSAhPT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKHZfb2JqWzBdLmRhdGFzZXQsIGZ1bmN0aW9uIChpaSwgdnYpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWkgIT09ICdydWxlTWVzc2FnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZS5kYXRhW2lpXSh2X29iaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmVyckZ1bmNbaWldKHZfb2JqLCBtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19zdWNjZXNzID0gbWUuZGF0YVtpaV0odl9vYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc19zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5tc2cuc3VjY2Vzcyh2X29iailcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZfb2JqLmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gdl9vYmouaXMoJzpjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmVyckZ1bmNbJ3JlcXVpcmVkJ10odl9vYmosIG1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfc3VjY2VzcyA9IGNoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lLm1zZy5zdWNjZXNzKHZfb2JqKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2X29iai5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2X29iailcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZvcl9mb3JtOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICQuZWFjaChtZS5mb3JtWzBdLCBmdW5jdGlvbiAoaSwgdikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodilbMF0ubmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZS5hdHRyTGVuZ3RoKCQodikpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodikub24oJ2lucHV0IHByb3BlcnR5Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZS5ldmVudHMobWUsICQodikpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh2KS5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXZlbnRzKG1lLCAkKHYpKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJhbmRvbU51bTogZnVuY3Rpb24gKG1pbk51bSwgbWF4TnVtKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChNYXRoLnJhbmRvbSgpICogbWluTnVtICsgMSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChNYXRoLnJhbmRvbSgpICogKG1heE51bSAtIG1pbk51bSArIDEpICsgbWluTnVtLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5pdFBhcmFtczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgc2VuZCA9IChtZS5vcHRpb25zLnNlbmRzICE9PSB1bmRlZmluZWQpID8gbWUub3B0aW9ucy5zZW5kcyA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBtZS5tZXRob2RzWyhtZS5vcHRpb25zLm1ldGhvZCA/IG1lLm9wdGlvbnMubWV0aG9kIDogJ1BPU1QnKS50cmltKCkudG9VcHBlckNhc2UoKV07XHJcbiAgICAgICAgICAgIG1lLnVybCA9IG1lLm9wdGlvbnMudXJsID8gbWUub3B0aW9ucy51cmwgOiBtZS5mb3JtWzBdLmFjdGlvbjtcclxuICAgICAgICAgICAgbWUubWV0aG9kID0gKG1ldGhvZCAhPT0gdW5kZWZpbmVkKSA/IG1ldGhvZCA6ICdQT1NUJztcclxuICAgICAgICAgICAgbWUuYXN5bmMgPSAobWUub3B0aW9ucy5hc3luYyA9PT0gdHJ1ZSB8fCBtZS5vcHRpb25zLmFzeW5jID09PSBmYWxzZSkgPyBtZS5vcHRpb25zLmFzeW5jIDogdHJ1ZTtcclxuICAgICAgICAgICAgbWUuc2VuZHMgPSAoc2VuZCA9PT0gdHJ1ZSB8fCBzZW5kID09PSBmYWxzZSkgPyBzZW5kIDogdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtZS5mb3JtWzBdLmlkID09PSAnJyB8fCBtZS5mb3JtWzBdLmlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIOW9k2Zvcm0gaWQg5LiN5a2Y5Zyo5pe2IOiHquWKqOeUn+aIkCBmb3JtIGlkXHJcbiAgICAgICAgICAgICAgICBtZS5mb3JtWzBdLmlkID0gbWUuZm9ybUlkKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIOWIpOaWrWZvcm0gaWTmmK/lkKblrZjlnKhcclxuICAgICAgICBmb3JtSWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGZvcm1JZCA9ICcnO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSAnZm9ybS0nICsgbWUucmFuZG9tTnVtKDQwMDAsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1zSWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICQuZWFjaCgkKCdmb3JtJyksIGZ1bmN0aW9uIChpLCBmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybXNJZC5wdXNoKGZvcm0uaWQpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICgkLmluQXJyYXkodGVtcCwgZm9ybXNJZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybUlkID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZm9ybUlkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2Zvcm0ucHJvdG90eXBlLmVyckZ1bmMgPSB7XHJcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIHRhcmdldC5hdHRyKCdkYXRhLXJlcXVpcmVkJykpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtaW46IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsICfmnIDlsI/lgLzkuLo6JyArIHRhcmdldC5hdHRyKCdkYXRhLW1pbicpKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWF4OiBmdW5jdGlvbiAodGFyZ2V0LCBtZSkge1xyXG4gICAgICAgICAgICBtZS5tc2cuZXJyb3IodGFyZ2V0LCAn5pyA5aSn5YC85Li6OicgKyB0YXJnZXQuYXR0cignZGF0YS1tYXgnKSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKHRhcmdldCwgbWUpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0YXJnZXQuYXR0cignZGF0YS1sZW5ndGgnKS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIFwi5pyA5aSa5pyA5bCR6L6T5YWlXCIgKyBkYXRhWzBdICsgXCLkvY1cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtkYXRhLmxlbmd0aCAtIDFdID09PSAnKicpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZS5tc2cuZXJyb3IodGFyZ2V0LCBcIuacgOWwkei+k+WFpVwiICsgZGF0YVswXSArIFwi5L2NXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbmdkdSA9IHRhcmdldC5hdHRyKCdkYXRhLWxlbmd0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIFwi6L6T5YWl5a2X56ym6ZW/5bqmW1wiICsgY2hhbmdkdSArIFwiXeS9jVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcnVsZXM6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIHRhcmdldC5hdHRyKCdkYXRhLXJ1bGUtbWVzc2FnZScpKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXF1YWw6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsICfovpPlhaXkuI3kuIDoh7TvvIEnKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGhvbmU6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIHRhcmdldC5hdHRyKCdkYXRhLXBob25lJykpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbWFpbDogZnVuY3Rpb24gKHRhcmdldCwgbWUpIHtcclxuICAgICAgICAgICAgbWUubXNnLmVycm9yKHRhcmdldCwgdGFyZ2V0LmF0dHIoJ2RhdGEtZW1haWwnKSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkY2FyZDogZnVuY3Rpb24gKHRhcmdldCwgbWUpIHtcclxuICAgICAgICAgICAgbWUubXNnLmVycm9yKHRhcmdldCwgdGFyZ2V0LmF0dHIoJ2RhdGEtaWRjYXJkJykpXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cmw6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIHRhcmdldC5hdHRyKCdkYXRhLXVybCcpKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uICh0YXJnZXQsIG1lKSB7XHJcbiAgICAgICAgICAgIG1lLm1zZy5lcnJvcih0YXJnZXQsIHRhcmdldC5hdHRyKCdkYXRhLXBhc3N3b3JkJykpXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUuY2xpY2tWYWxpZGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGlzX3N1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICQuZWFjaChtZS5mb3JtWzBdLCBmdW5jdGlvbiAoaSwgdikge1xyXG4gICAgICAgICAgICBpZiAoJCh2KVswXS5uYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodikuYXR0cigndHlwZScpICE9PSAncmFkaW8nICYmICQodikuYXR0cigndHlwZScpICE9PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCQodilbMF0uZGF0YXNldCwgZnVuY3Rpb24gKGlpLCB2dikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWkgIT09ICdydWxlTWVzc2FnZScgJiYgIW1lLmRhdGFbaWldKCQodiksIG1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXJyRnVuY1tpaV0oJCh2KSwgbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfc3VjY2VzcyA9IG1lLmRhdGFbaWldKCQodikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodikuYXR0cigndHlwZScpID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gJCh2KS5pcygnOmNoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5lcnJGdW5jWydyZXF1aXJlZCddKCQodiksIG1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3N1Y2Nlc3MgPSBjaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHYpLmF0dHIoJ3R5cGUnKSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoaXNfc3VjY2VzcyAmJiBtZS5zZW5kcykge1xyXG4gICAgICAgICAgICBtZS5zZW5kRGF0YSgpXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUuZnVuYyA9IHtcclxuICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24gKG9iamVjdHMpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0cy52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbWluT3JNYXg6IGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdHMudmFsKCksXHJcbiAgICAgICAgICAgICAgICBtaW4gPSBwYXJzZUludChvYmplY3RzLmF0dHIoXCJkYXRhLW1pblwiKSksXHJcbiAgICAgICAgICAgICAgICBtYXggPSBwYXJzZUludChvYmplY3RzLmF0dHIoXCJkYXRhLW1heFwiKSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpIHx8IG1pbiA+IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4odmFsdWUpICYmIG1heCA8IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGxlbmd0aHM6IGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdHMudmFsKCksXHJcbiAgICAgICAgICAgICAgICBzdGFydF9lbmQgPSBvYmplY3RzLmF0dHIoJ2RhdGEtbGVuZ3RoJykuc3BsaXQoJy0nKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgc3RhcnRfZW5kLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KHN0YXJ0X2VuZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09ICcnICYmIHN0YXJ0X2VuZC5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydF9lbmRbMV0gPT09ICcqJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5fbGVuZ3RoID0gcGFyc2VJbnQoc3RhcnRfZW5kWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgbWluX2xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluID0gcGFyc2VJbnQoc3RhcnRfZW5kWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGFyc2VJbnQoc3RhcnRfZW5kWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgbWluIHx8IHZhbHVlLmxlbmd0aCA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJ1bGVzOiBmdW5jdGlvbiAob2JqZWN0cykge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3RzLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgcnVsZSA9IG9iamVjdHMuYXR0cihcImRhdGEtcnVsZXNcIik7XHJcblxyXG4gICAgICAgICAgICBydWxlID0gbmV3IFJlZ0V4cChldmFsKHJ1bGUpKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnJyAmJiAhcnVsZS50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFsOiBmdW5jdGlvbiAob2JqZWN0cykge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3RzLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgZXF1YWwgPSAkKG9iamVjdHMuYXR0cihcImRhdGEtZXF1YWxcIikpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBlcXVhbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG1vYmlsZTogZnVuY3Rpb24gKG9iamVjdHMpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0cy52YWwoKSxcclxuICAgICAgICAgICAgICAgIHJ1bGVfdGVsID0gL14oMFxcZHsyLDN9XFxkezcsOH18MFxcZHsyLDN9LSlcXGR7Nyw4fSQvLFxyXG4gICAgICAgICAgICAgICAgcnVsZV9waG9uZSA9IC9eKDEzWzAtOV18MTRbNTc5XXwxNVswLTMsNS05XXwxNls2XXwxN1swMTM1Njc4XXwxOFswLTldfDE5Wzg5XSlcXGR7OH0kLztcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgIXJ1bGVfcGhvbmUudGVzdCh2YWx1ZSkgJiYgIXJ1bGVfdGVsLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZW1haWw6IGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdHMudmFsKCksXHJcbiAgICAgICAgICAgICAgICBydWxlX2VtYWlsID0gL14oW2EtekEtWjAtOV0rW198XFxffFxcLl0/KSpbYS16QS1aMC05XStAKFthLXpBLVowLTldK1tffFxcX3xcXC5dPykqW2EtekEtWjAtOV0rXFwuW2EtekEtWl17MiwzfSQvO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnJyAmJiAhcnVsZV9lbWFpbC50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbiAob2JqZWN0cykge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3RzLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgcnVsZV9wYXNzd29yZCA9IC9eW2EtekEtWjAtOVxcLlxcX1xcflxcIVxcQFxcI1xcJFxcJVxcXlxcJlxcKlxcKFxcKVxcK1xcLVxcPV17NiwxNn0kLztcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgIXJ1bGVfcGFzc3dvcmQudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBJZENhcmQ6IGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdHMudmFsKCksXHJcbiAgICAgICAgICAgICAgICBydWxlX2NhcmQgPSAvXihbMS05XVxcZHs1fVsxXVxcZHszfSgwWzEtOV18MVswLTJdKSgwWzEtOV18WzEtMl1cXGR8M1swLTFdKVxcZHszfVswLTl4WF18WzEtOV1cXGR7NX1cXGR7Mn0oMFsxLTldfDFbMC0yXSkoMFsxLTldfFsxLTJdXFxkfDNbMC0xXSlcXGR7M30pJC87XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmICFydWxlX2NhcmQudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB1cmw6IGZ1bmN0aW9uIChvYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdHMudmFsKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgciA9IC9eaHR0cHM/OlxcL1xcL1tBLVphLXowLTldK1xcLltBLVphLXowLTldK1tcXC89XFw/JVxcLSZffmBAW1xcXVxcJzorIV0qKFtePD5cXFwiXFxcIl0pKiQvO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmICFyLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUuZ2V0Q3NyZlRvb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9PSAnJykge1xyXG4gICAgICAgICAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29va2llID0gY29va2llc1tpXS50cmltKCkuc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29raWVbMF0gPT09IFwiY3NyZnRva2VuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZS5jc3JmID0gY29va2llWzFdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2Zvcm0ucHJvdG90eXBlLmZvcm1EYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcclxuICAgICAgICB2YXIgZm9ybSA9IG1lLmZvcm1bMF07XHJcblxyXG4gICAgICAgIGlmICgkKGZvcm0pLmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICAgICAgJC5lYWNoKCQobWUuZm9ybVswXSkuc2VyaWFsaXplQXJyYXkoKSwgZnVuY3Rpb24gKGksIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVt2YWwubmFtZV0gPSB2YWwudmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIW1lLmNzcmYgJiYgZGF0YS5jc3JmbWlkZGxld2FyZXRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBtZS5jc3JmID0gZGF0YS5jc3JmbWlkZGxld2FyZXRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmNzcmZtaWRkbGV3YXJldG9rZW47XHJcbiAgICAgICAgICAgICQuZWFjaChtZS5vcHRpb25zLmRhdGEsIGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhW2tdID0gdjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xyXG4gICAgICAgICAgICBpZiAoIW1lLmNzcmYgJiYgZGF0YS5oYXMoJ2NzcmZtaWRkbGV3YXJldG9rZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgbWUuY3NyZiA9IGRhdGEuZ2V0KCdjc3JmbWlkZGxld2FyZXRva2VuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGF0YS5kZWxldGUoJ2NzcmZtaWRkbGV3YXJldG9rZW4nKTtcclxuICAgICAgICAgICAgJC5lYWNoKG1lLm9wdGlvbnMuZGF0YSwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKGssIHYpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUuc2VuZERhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1lID0gdGhpcyxcclxuICAgICAgICAgICAgZGF0YSA9IG1lLmZvcm1EYXRhKCk7XHJcblxyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbihtZS5tZXRob2QsIG1lLnVybCwgbWUuYXN5bmMpO1xyXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1DU1JGVG9rZW5cIiwgbWUuY3NyZik7XHJcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJ4LXJlcXVlc3RlZC13aXRoXCIsIFwiWE1MSHR0cFJlcXVlc3RcIik7XHJcbiAgICAgICAgaWYgKCQobWUuZm9ybVswXSkuZmluZCgnaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZS5vcHRpb25zLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLm9wdGlvbnMuc3VjY2VzcygkLnBhcnNlSlNPTih4aHIucmVzcG9uc2VUZXh0KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUub3B0aW9ucy5zdWNjZXNzKHhoci5yZXNwb25zZVRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZS5vcHRpb25zLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5vcHRpb25zLnN1Y2Nlc3MoJC5wYXJzZUpTT04oeGhyLnJlc3BvbnNlVGV4dCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLm9wdGlvbnMuc3VjY2Vzcyh4aHIucmVzcG9uc2VUZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIuc2VuZChkYXRhKVxyXG4gICAgfTtcclxuXHJcbiAgICBfZm9ybS5wcm90b3R5cGUubXNnID0ge1xyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAodGFyZ2V0LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKCQodGFyZ2V0KS5hdHRyKCd0eXBlJykgIT09ICdjaGVja2JveCcgJiYgJCh0YXJnZXQpLmF0dHIoJ3R5cGUnKSAhPT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhciA9ICQodGFyZ2V0LnNpYmxpbmdzKClbMF0pO1xyXG4gICAgICAgICAgICAgICAgdGFyLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXRyaWdnZXInOiAnbWFudWFsJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YS1wbGFjZW1lbnQnOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtb3JpZ2luYWwtdGl0bGUnOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICB9KS50b29sdGlwKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB0YXIuY2hpbGRyZW4oJy5pbnB1dC1ncm91cC10ZXh0JykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogJyNFRjUzNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdjb2xvcic6ICcjRUY1MzUwJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuYXR0cignY2hlY2snLCBmYWxzZSkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogJyNFRjUzNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNGRkNERDInXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRhcmdldCkuYXR0cigndHlwZScpID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2hlY2snOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdHJpZ2dlcic6ICdtYW51YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS1wbGFjZW1lbnQnOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLW9yaWdpbmFsLXRpdGxlJzogZXJyb3JNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRvb2x0aXAoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgaWYgKCQodGFyZ2V0KS5hdHRyKCd0eXBlJykgIT09ICdjaGVja2JveCcgJiYgJCh0YXJnZXQpLmF0dHIoJ3R5cGUnKSAhPT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhciA9ICQodGFyZ2V0LnNpYmxpbmdzKClbMF0pO1xyXG4gICAgICAgICAgICAgICAgdGFyLnJlbW92ZUF0dHIoJ2RhdGEtdHJpZ2dlcicpO1xyXG4gICAgICAgICAgICAgICAgdGFyLnJlbW92ZUF0dHIoJ2RhdGEtcGxhY2VtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICB0YXIucmVtb3ZlQXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgdGFyLmNoaWxkcmVuKCcuaW5wdXQtZ3JvdXAtdGV4dCcpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICB0YXIudG9vbHRpcCgnaGlkZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhci5maW5kKCcuZmEnKS5jc3MoJ2NvbG9yJywgJyMyOGE3NDUnKTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5hdHRyKCdjaGVjaycsIHRydWUpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1jb2xvcic6ICcjMjhhNzQ1JyxcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjRkZGJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5hdHRyKCdjaGVjaycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVBdHRyKCdkYXRhLXRyaWdnZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlQXR0cignZGF0YS1wbGFjZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlQXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC50b29sdGlwKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4uZm9ybSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIHZhbGlkYXRpb24gPSBuZXcgX2Zvcm0odGhpcywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWxpZGF0aW9uLmluaXQoKTtcclxuICAgIH07XHJcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7Il19
